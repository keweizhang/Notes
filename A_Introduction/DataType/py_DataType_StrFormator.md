
# 格式符

> 以下内容以`f-string`表达式为准，其他两种大同小异

## 数据类型

### 字符串

适用于被格式化对象为字符串

|格式符|作用|
| ---- | ---------------------- |
| `s`  | 格式化为普通字符串格式 |

### 整数

适用于被格式化对象为整数

`#`放在上述格式化字符前，针对不同格式作用效果不同，可以用来切换数字显示格式

| 格式符     | 作用                            | `#`切换数字显示格式 |
| ---- | --------------------------------- | ------------------- |
| `c`  | 按unicode编码将整数转换为对应字符 | 不可用              |
| `d`  | 格式化为十进制整数格式            | 无作用              |
| `b`  | 格式化为二进制整数格式            | 开头是否显示`0b`    |
| `o`  | 格式化为八进制整数格式            | 开头是否显示`0o`    |
| `x`  | 格式化为十六进制整数格式（小写）  | 开头是否显示`0x`    |
| `X`  | 格式化为十六进制整数格式（大写）  | 开头是否显示`0X`    |

### 浮点数

适用于被格式化对象为 浮点数、复数、整数（自动转换为浮点数）

| 格式符     | 作用                            |
| ---- | --------------------------------- |
| `f`  | 格式化为浮点数格式，默认精度（precision）是6 |
| `F`  | 与 f 等价，但将 nan 和 inf 换成 NAN 和 INF   |
| `e`  | 格式化为科学计数格式，以 e 表示×10^          |
| `E`  | 格式化为科学计数格式，以 E 表示×10^          |
| `g`  | 通用格式，小数时用 f，大数时用 e             |
| `G`  | 与 g 等价，但小数用 F，大数用 E              |

### 百分数

适用于被格式化对象为 浮点数、整数（自动转换为浮点数）

| 格式符     | 作用                            |
| ---- | ------------------------- |
| `%`  | 百分比格式，数字自动乘上100后按 `f` 格式排版，并加 `%` 后缀 |

## 显示格式

### 对齐

| 格式符     | 作用                            |说明|
| ---- | ------ | ------------------ |
| `<`  | 左对齐 | 字符串默认对齐方式 |
| `>`  | 右对齐 | 数值默认对齐方式   |
| `^`  | 居中   |                    |

### 正负号

| 格式符     | 作用                            |
| ---- | ------------------------------------------------- |
| `+`  | 负数前加负号（-），正数前加正号（+）              |
| `-`  | 负数前加负号（-），正数前不加任何符号（**默认**） |
| ` `  | （空格）， 负数前加负号（-），正数前加一个空格    |

### 宽度与精度

| 控制符 | 作用                     | 说明                   |
| ------ | ----------------- | ------------------------------ |
| `m`    | 用整数m指定数字宽度                      |                                |
| `0m`   | 整数`m`指定宽度，`0`指定高位用`0`补位    |                                |
| `m.n`  | 整数`m`指定宽度，`n`指定小数点后位数     | 用于 `f`、`F`、`e`、`E`和`%`时 |
| `m.n`  | `n`指定有效数字位数（小数点前+小数点后） | 用于 `g` 和 `G`时              |
| `m.n`  | 只使用字符串中前 n 位字符                | 用于字符串时                   |

### 千位分隔符

默认不使用分隔符，即不指定 `,` 或 `_`，则f-string不使用任何千位分隔符

| 控制符 | 作用                  | 适用对象                 | 说明                             |
| ------ | --------------------- | ------------------------ | -------------------------------- |
| `,`    | 使用`,`作为千位分隔符 | 浮点数、复数与十进制整数 | 只分隔小数点前的数位             |
| `_`    | 使用`_`作为千位分隔符 | 浮点数、复数与十进制整数 | 只分隔小数点前的数位             |
| `_`    | 使用`_`作为千位分隔符 | 二、八、十六进制整数     | 从低位到高位每隔四位插入一个 `_` |

## 日期格式符

适用于 `date` `datetime` `time` 对象
| 控制符 | 作用                  | 示例                |
| ------ | --------------------- | ------------------------ |
|`%a`|    星期几（缩写） | `'Sun'` |
|`%A`  |  星期几（全名）   | `'Sunday'`|
|`%w`  |  星期几（数字，0 是周日，6 是周六） |   `'0'`|
|`%u`  |  星期几（数字，1 是周一，7 是周日）  |  `'7'`|
|`%d`  |  日（数字，以 0 补足两位） |   `'07'`|
|`%b`  |  月（缩写）  |  `'Aug'`|
|`%B`  |  月（全名）  |  `'August'`|
|`%m`  |  月（数字，以 0 补足两位）|    `'08'`|
|`%y`  |  年（后两位数字，以 0 补足两位）  |  `'14'`|
|`%Y`  |  年（完整数字，不补零）  |  `'2014'`|
|`%H`   | 小时（24小时制，以 0 补足两位）  |  `'23'`|
|`%I`  |  小时（12小时制，以 0 补足两位） |   `'11'`|
|`%p`  |  上午/下午  |  `'PM'`|
|`%M`  |  分钟（以 0 补足两位）  |  `'23'`|
|`%S`  |  秒钟（以 0 补足两位）   | `'56'`|
|`%f`  |  微秒（以 0 补足六位）   | `'553777'`|
|`%z`  |  UTC偏移量（格式是 ±HHMM[SS]，未指定时区则返回空字符串）   | `'+1030'`|
|`%Z`  |  时区名（未指定时区则返回空字符串）  |  `'EST'`|
|`%j`  |  一年中的第几天（以 0 补足三位）  |  `'195'`|
|`%U`  |  一年中的第几周（以全年首个周日后的星期为第0周，以 0 补足两位） |   `'27'`|
|`%w`  |  一年中的第几周（以全年首个周一后的星期为第0周，以 0 补足两位）  |  `'28'`|
|`%V`  |  一年中的第几周（以全年首个包含1月4日的星期为第1周，以 0 补足两位）   | `'28'`|

