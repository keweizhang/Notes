# 2.2 列表 `list`

## 定义

`[ ]`内用`,`分隔一系列元素组成的有序集合

1. 元素可以是任意类型，元素之间类型不必相同

2. 列表内可以嵌套列表

## 操作

### 创建

#### 定义式

按照列表定义格式，用`[]`和`,`手动创建列表

#### `range()`函数

使用`range()`函数可以创建规律且可迭代得对象, 再用函数`list()`类型转换为列表

语法：`range(strat,end,step)`

该函数生成`start`到`end-1`的等差可迭代对象，步长默认为1

:information_source: Python的区间都为左闭右开 

#### 复制

通过赋值，直接根据现有列表创建新列表

1. 切片复制（推荐）

使用切片复制列表 `ListB = ListA[:]`，这样改动第二个列表不会影响原列表

2. 简单赋值

`ListB = ListA` 是将另一个列表名指向了相同列表地址

:warning: 这样赋值后，对两个列表的单独操作，都会改变列表的值

### 增

| 方法  | 作用  | 方法  | 作用  |
| -------- | -------- |---|---|
| `.append(elem)` |在列表末尾添加元素|`ListA.extend(ListB)`|将B的全部元素添加到 A 末尾|
| `.insert(pos, elem)`|在指定位置添加元素|`ListA + ListB`|按照前后顺序拼接列表|

:information_source: `.append()`适用于动态添加，可以先创建空列表，再逐个添加元素

### 删

| 方法                       |                                            |
| -------------------------- | ------------------------------------------ |
| `.pop(pos)`                | 删除特定位置元素，并将删除的元素值保留下来 |
| `.remove(value)`           | 不知道位置，只知道元素的值                 |
| `del list[pos]`            | 删除特定位置的元素，直接修改原数据         |
| `ListName[start:end] = []` | 赋空值将删除切片部分的元素                 |

:information_source: `.pop()`类似栈的弹出操作，当位置参数缺省时，默认弹出最后一个元素

:information_source: 多个相同元素时，`.remove`只删除第一个指定的值

### 改

#### 更改元素值

指定索引后赋值，即对列表切片赋值

#### 排序

需要对函数和方法区分使用

| 方法/函数 | 用法 |
| ------ | ----- |
|`.sort()` | 排序，无返回值，可加参数`reverse=True` |`.reverse()` | 反转，无返回值 |
|`sorted()` | 排序，返回新列表，可加参数`reverse=True` |`reversed()` | 反转，返回新列表 |

### 查

使用方括号`[pos]`进行索引，从0开始，可以使用负数索引

#### 切片 :star:

`ListName[start:end]` 用于得到列表的一部分

`ListName[start:end:step]` 可以指定切片步长

:information_source: 该操作不改变原列表，只是得到列表的一部分复制

##### 缺省

开始索引缺省时，则从第一个元素开始

结束索引缺省时，则到最后一个元素结束

##### 负数索引

可以使用负数进行索引，`ListName[-1]`表示列表的最后一个元素

#### 计数

`.count(elem)`方法用于统计列表中指定元素`elem`出现次数

## 列表解析 :star:

将多个简单表达式放在列表中执行：`ListName = [运算表达式 操作表达式]`

```python
# 求得1到10的平方
>>> squares = [value**2 for value in range(1,11)]
# 输出
[1, 4, 9, 16, 25, 36, 49, 64, 81, 100]
```

`value**2`为运算表达式

`for value in range(1,11)`为操作表达式求得1到10的平方值

```python
# 返回x和y不相等时组成的tuple
>>> result = [(x, y) for x in [1,2,3] for y in [3,1,4] if x != y]
# 输出
[(1, 3), (1, 4), (2, 3), (2, 1), (2, 4), (3, 1), (3, 4)]
```

该示例是一个嵌套循环，等价于：

```python
result = []
for x in [1,2,3]:
    for y in [3,1,4]:
        if(x != y):
            result.append((x,y)) 
```
